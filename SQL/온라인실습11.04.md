온라인실습1
```
-- Active: 1762229042685@@127.0.0.1@3306
SELECT * FROM artists;
SELECT COUNT(*) FROM artists;
SELECT * FROM artists WHERE Name = 'AC/DC';
SELECT ArtistId, Name FROM artists;
SELECT ArtistId, Name
 FROM artists
 WHERE Name = 'Gilberto Gil' OR Name = 'Ed Motta';

SELECT * FROM artists ORDER BY NAME DESC;

SELECT ArtistId, Name
 FROM artists
 WHERE Name LIKE 'Vinícius%' LIMIT 2;


SELECT ArtistId
 FROM artists
 WHERE ArtistId BETWEEN 50 AND 70;
```
온라인실습2

```
-- Active: 1762229944325@@127.0.0.1@3306
SELECT InvoiceId, InvoiceDate from invoices;

SELECT *
FROM invoices
WHERE BillingCountry = 'USA' AND Total > 10;

SELECT *
FROM invoices
WHERE "BillingCity" = 'London' OR "BillingCity" = 'Berlin';

SELECT *
FROM invoices
ORDER BY Total DESC
LIMIT 1

SELECT *
FROM invoices
WHERE "InvoiceDate" >= '2013-03-31' and "Total" > 3;


SELECT *
FROM invoices
WHERE BillingCountry = 'USA' AND "BillingState" = 'CA' and "Total" > 10;
SELECT *
FROM invoices
WHERE BillingCountry = 'Canada' AND "BillingState" = 'ON' and "BillingCity" = 'Toronto';

SELECT *
FROM invoices
WHERE "InvoiceDate" < '2023-01-01' AND "Total" >= 50 OR "BillingCountry" = 'Brazil';
```

온라인실습3

```
SELECT "BillingCountry", SUM(total) as TotalSales
FROM invoices
GROUP BY "BillingCountry"

SELECT strftime('%Y', "InvoiceDate") as Year,
SUM(total) as TotalSales
FROM invoices
GROUP BY Year

SELECT BillingState, SUM(total) as TotalSales
from invoices
WHERE "BillingCountry" = 'USA'
AND "InvoiceDate" >= '2010-01-01'
GROUP BY "BillingState"


SELECT "BillingCountry", max(Total) as MaxOrderAmount
FROM invoices
WHERE "BillingCountry" = 'Germany'
 or "BillingCountry" = 'France'
 GROUP BY "BillingCountry"
```

온라인실습 4

```
-- Active: 1762231727669@@127.0.0.1@3306
CREATE TABLE zoo (
  id INTEGER PRIMARY KEY,
  name TEXT,
  eat TEXT,
  weight INT,
  height INT,
  age INT
);

INSERT INTO zoo (name,eat,weight,height,age)
VALUES ('Lion', 'Meat', 200, 120, 5);
INSERT INTO zoo (name,eat,weight,height,age)
VALUES ('Elephant', 'Plants', 5000, 300, 15);
INSERT INTO zoo (name,eat,weight,height,age)
VALUES ('Giraffe', 'Leaves', 1500, 550, 10);
INSERT INTO zoo (name,eat,weight,height,age)
VALUES ('Monkey', 'Fruits', 50, 60, 8);


select *
from zoo;
```
온라인 실습5

```
-- Active: 1762231727669@@127.0.0.1@3306
ALTER TABLE zoo ADD COLUMN species TEXT;



UPDATE zoo
SET species = 'Panthera leo'
WHERE id = 1;

UPDATE zoo
SET species = 'Loxodonta africana'
WHERE id = 2;
UPDATE zoo
SET species = 'Giraffa camelopardalis'
WHERE id = 3;
UPDATE zoo
SET species = 'Cebus capucinus'
WHERE id = 4;


UPDATE zoo
SET height = height * 2.54;

SELECT * from zoo;
```

온라인실습6
```
-- Active: 1762233714020@@127.0.0.1@3306
-- Active: 1762229944325@@127.0.0.1@3306
SELECT * FROM hotels;

UPDATE hotels SET grade = upper(grade);


SELECT grade FROM hotels;

CREATE TABLE customers (
  id INTEGER PRIMARY KEY,
  name TEXT,
  email TEXT
);
CREATE TABLE reservations (
  id INTEGER PRIMARY KEY,
  customer_id INTEGER,
  room_num TEXT,
  check_in TEXT,
  check_out TEXT,
  FOREIGN KEY (customer_id)
  REFERENCES customers(id),
  FOREIGN KEY (room_num)
  REFERENCES hotels(room_num)
);

INSERT INTO customers (name,email)
VALUES('홍길동', 'john@example.com');
INSERT INTO customers (name,email)
VALUES('박지영', 'jane@example.com');
INSERT INTO customers (name,email)
VALUES('김미영', 'alice@example.com');
INSERT INTO customers (name,email)
VALUES('이철수', 'bob@example.com');


INSERT INTO reservations
(customer_id,room_num,check_in,check_out)
VALUES (1, '101', '2024-03-20', '2024-03-25');
INSERT INTO reservations
(customer_id,room_num,check_in,check_out)
VALUES (2, '202', '2024-03-21', '2024-03-24');
INSERT INTO reservations
(customer_id,room_num,check_in,check_out)
VALUES (3, '303', '2024-03-22', '2024-03-26');
INSERT INTO reservations
(customer_id,room_num,check_in,check_out)
VALUES (4, '404', '2024-03-23', '2024-03-27');


SELECT * FROM customers;
SELECT * FROM reservations;
```
온라인실습 7

```
-- Active: 1762234590897@@127.0.0.1@3306
CREATE TABLE transactions (
  id INTEGER PRIMARY KEY,
  user_id INTEGER,
  amount TEXT,
  transaction_date DATE,
  FOREIGN KEY (user_id) REFERENCES users(id)
);

INSERT INTO transactions
(id,user_id,amount,transaction_date)
VALUES(1,1,500,'2024-03-15');
INSERT INTO transactions
(id,user_id,amount,transaction_date)
VALUES(2,2,700,'2024-03-16');
INSERT INTO transactions
(id,user_id,amount,transaction_date)
VALUES(3,1,200,'2024-03-17');
INSERT INTO transactions
(id,user_id,amount,transaction_date)
VALUES(4,3,1000,'2024-03-18');

SELECT first_name, last_name, amount, transaction_date
FROM users
JOIN transactions ON users.id = transactions.user_id;

SELECT first_name, last_name, amount, transaction_date
FROM users
JOIN transactions ON users.id = transactions.user_id
WHERE transaction_date > '2024-03-16';

SELECT first_name, last_name, sum(transactions.amount) as total_amount 
FROM users
JOIN transactions ON users.id = transactions.user_id
GROUP BY users.id

SELECT first_name, last_name, sum(t.amount) as total_amount 
FROM users u
JOIN transactions t ON u.id = t.user_id
GROUP BY u.id
```

온라인실습8

```

INSERT INTO employees (name, age, salary, departmentId)
 VALUES ('이규보', 77,  1700, 1);      
INSERT INTO employees (name, age, salary, departmentId)
 VALUES ('김구', 21,  126000, 2);
INSERT INTO employees (name, age, salary, departmentId)
 VALUES ('허범성', 37,  23000, 3);
INSERT INTO employees (name, age, salary, departmentId)
 VALUES ('유관순', 41,  82000, 4);  


SELECT departments.name AS department,
       employees.name AS oldest_employee,
       MAX(employees.age) AS max_age,
       AVG(employees.age) AS avg_age
FROM employees
JOIN departments ON employees.departmentId = departments.id
GROUP BY departments.name;


SELECT departments.name AS department,
       employees.name AS highest_paid_employee,
       employees.salary AS max_salary
FROM employees
JOIN departments ON employees.departmentId = departments.id
WHERE (employees.salary, employees.departmentId) IN (
    SELECT MAX(salary), departmentId
    FROM employees
    GROUP BY departmentId
);

SELECT departments.name AS department,
       CASE
           WHEN age < 30 THEN 'Under 30'
           WHEN age BETWEEN 30 AND 40 THEN 'BETWEEN 30-40'
           ELSE 'Over 40'
       END AS age_group,
       COUNT(*) AS num_employees
FROM employees
JOIN departments ON employees.departmentId = departments.id
GROUP BY department, age_group
ORDER BY department, age_group;


SELECT departments.name AS department,
       AVG(employees.salary) AS avg_salary_excluding_highest
FROM employees
JOIN departments ON employees.departmentId = departments.id
WHERE (employees.salary, employees.departmentId) NOT IN (
    SELECT MAX(salary), departmentId
    FROM employees
    GROUP BY departmentId
)
GROUP BY departments.name;
```


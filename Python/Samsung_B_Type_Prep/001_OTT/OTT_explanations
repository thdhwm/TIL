[제한 사항]
시간
 25개 테스트케이스를 합쳐서 C++ 의 경우 3초 / Java 의 경우 3초

메모리
 힙, 정적 메모리 합쳐서 256MB 이내, 스택 메모리 1MB 이내


  ①   C 또는 C++로 답안을 작성하시는 응시자께서는 검정시스템에 제출 시, Language 에서 C++ 를 선택하신 후 제출하시기 바랍니다.
  ②   Main 과 User Code 부분으로 구성되어 있습니다.
    ㅇ   A.  Main         : 수정할 수 없는 코드이며, 채점 시 비 정상적인 답안 검출 등 평가를 위한 로직이 추가 될 수 있습니다.
    ㅇ   B.  User Code  : 실제 응시자가 작성해야 하는 코드이며, 제출 시에는 표준 입출력 함수가 포함되어 있으면 안 됩니다.
  ③   Local PC 에서 프로그래밍 시 유의 사항
    ㅇ   A.  2개의 파일을 생성하셔야 합니다. ( main.cpp / solution.cpp 또는 Solution.java / UserSolution.java )
    ㅇ   B.  Main 부분의 코드를 main.cpp 또는 Solution.java 에 복사해서 사용하시기 바랍니다.
    ㅇ   C.  sample_input.txt 를 사용하시기 위해서는 Main 부분의 코드 내에
    ㅇ   C.  표준 입력을 파일로 전환하는 코드 ( 주석처리 되어 있음 ) 의 주석을 풀어서 사용하시면 됩니다.
    ㅇ   D.  User Code 부분의 코드를 작성하신 후 서버에 제출하실 때,
    ㅇ   D.  디버깅을 위한 표준 입출력 함수를 모두 삭제 또는 주석 처리해 주셔야 합니다.
  ④   문제 내에 제약조건을 모두 명시하지 않으므로 주어지는 코드를 분석하셔야 합니다.
  ⑤   코드는 개발 언어에 따라 상이할 수 있으므로, 작성할 언어를 기준으로 분석하셔야 합니다.


[문제 설명]
N 명의 사용자가 가입한 OTT 시스템이 있다.
이 시스템은 다음과 같은 기능을 제공한다.

   ① 영화를 등록한다.
   ② 등록된 영화를 삭제한다.
   ③ 사용자는 영화를 시청하고 시청한 영화에 대한 평점을 준다.
   ④ 사용자가 최근 시청한 영화들을 참고하여 사용자에게 최대 5개의 영화를 추천한다.

각 사용자는 1부터 N까지의 고유 번호가 부여되어 있고 그 고유 번호로 구별된다.
각 영화는 ID, 장르를 가지고 있다. 영화는 ID로 구분되고 같은 ID를 가지는 영화는 없다. 장르는 1부터 5까지 수로 표현된다.

또한, 영화는 총점을 가진다.
사용자가 영화를 시청하고 시청한 영화에 대해서 평점을 주면 그 영화의 총점은 사용자가 준 평점만큼 증가한다.

각 사용자는 시청 목록을 가지고 있다. 사용자가 영화를 시청하면 그 영화가 시청 목록에 추가된다.
또한, 사용자가 이미 시청한 영화를 다시 시청하지는 않는다.

영화가 삭제될 수도 있다. 삭제되면 더 이상 그 영화는 시청될 수도 추천될 수도 없고 사용자의 시청 목록에서도 삭제된다.

OTT 서비스에서는 사용자에게 다음과 같은 규칙으로 영화를 추천한다.

  ⓐ 사용자가 이미 시청했거나 삭제된 영화는 제외한다.
  ⓑ 시청 목록에 있는 가장 최근 시청한 최대 5개의 영화들 중에서 사용자가 준 평점이 가장 높은 영화와 같은 장르의 영화만 추천한다.
       가장 높은 평점을 준 영화가 여러 개이면 그 중에서 가장 최근에 시청한 영화와 같은 장르의 영화만 추천한다.
  ⓒ 만약, 사용자의 시청 목록에 어떤 영화도 없는 경우 장르에 상관없이 모든 영화에 대해서 추천한다.
  ⓓ 위 조건을 만족하는 영화들 중에서 총점이 가장 높은 순으로 최대 5개를 추천한다.
       만약 총점이 같은 경우 더 최신에 등록한 영화가 우선 순위가 더 높다.


아래 API 설명을 참조하여 각 함수를 구현하라.

※ 아래 함수 signature는 C/C++에 대한 것으로 다른 언어에 대해서는 제공되는 Main과 User Code를 참고하라.

아래는 User Code 부분에 작성해야 하는 API 의 설명이다.




void init(int N)

테스트 케이스에 대한 초기화 함수. 각 테스트 케이스의 맨 처음 1회 호출된다.



OTT에 가입한 사용자는 N명이 있다. 각 사용자는 1부터 N까지의 고유 번호로 구분된다.



초기에 시스템에 등록된 영화는 없고 어떤 사용자도 영화를 본 적도 없다.



Parameter

  N : 서비스에 가입한 사용자의 수 (3 ≤ N ≤ 1,000)